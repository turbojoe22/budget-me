<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">

    <title>Register</title>

    <script>
        function validateForm() {
            let username = document.getElementById("username").value;
            let password = document.getElementById("password").value;
            let verifyPassword = document.getElementById("verifyPassword").value;
            let errorContainer = document.getElementById("error-container");
            let errorMessages = [];

            if (username.trim() === "") {
                errorMessages.push("Please enter a username.");
            } else if (username.length < 4 || username.length > 20) {
                errorMessages.push("Invalid username. Must be at least 4 characters and no more than 20 characters.");
            }

            if (password.trim() === "") {
                errorMessages.push("Please enter a password.");
            } else {
        // Regular expression pattern for at least one uppercase letter, one number, and one symbol
        let passwordPattern = /^(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&+=!]).*$/;
                if (!passwordPattern.test(password)) {
                    errorMessages.push("Password must have at least one uppercase letter, one number, and one symbol.");
                } else if (password.length < 7 || password.length > 50) {
                    errorMessages.push("Invalid password. Must be at least 7 characters and no more than 50 characters.");
                    }
                }

            if (verifyPassword.trim() === "") {
                errorMessages.push("Please enter the verification password.");
            } else if (verifyPassword !== password) {
                errorMessages.push("The verification password does not match the password.");
            }

            if (errorMessages.length > 0) {
                errorContainer.innerHTML = "";
                for (let i = 0; i < errorMessages.length; i++) {
                    let errorMessage = document.createElement("p");
                    errorMessage.textContent = errorMessages[i];
                    errorContainer.appendChild(errorMessage);
                }
                return false;
            }

            return true;
        }
    </script>
</head>

<body class="container">

<div class="container body-content">
    <h1>Register for Your Account Here!</h1>
</div>

<form method="post" action="/user/register" onsubmit="return validateForm()">
    <div class="form-group">
        <label for="username">Username</label>
        <input class="form-control" name="username" id="username" />
    </div>

    <div class="form-group">
        <label for="password">Password</label>
        <input class="form-control" name="password" id="password" type="password" />
    </div>

    <div class="form-group">
        <label for="verifyPassword">Verify Password</label>
        <input class="form-control" name="verifyPassword" id="verifyPassword" type="password" />
    </div>

    <div id="error-container"></div>

    <input type="submit" class="btn btn-primary" value="Register" />
</form>

</body>
</html>
